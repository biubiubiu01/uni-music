(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-songList-index"],{"0935":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.playList-container[data-v-ecb4a2ca]{width:100%;height:100%}.playList-container .tower-swiper[data-v-ecb4a2ca]{height:%?400?%!important;overflow:unset}.playList-container .tower-swiper .tower-item[data-v-ecb4a2ca]{width:%?330?%;-webkit-transform:scale(calc(.5 + var(--index) / 10));transform:scale(calc(.5 + var(--index) / 10));margin-left:calc(var(--left) * %?100?% - %?150?%);z-index:var(--index)}.playList-container .tower-swiper .tower-item .swiper-item .swiper-item-img[data-v-ecb4a2ca]{border-radius:6px}.playList-container .tower-swiper .tower-item .swiper-item .title[data-v-ecb4a2ca]{text-align:center;margin-top:10px;position:absolute;color:rgba(0,0,0,.5);font-size:14px}.playList-container .musicList[data-v-ecb4a2ca]{padding-left:15px;width:100%;position:relative;box-sizing:border-box;margin-top:15px}.playList-container .musicList .list-item[data-v-ecb4a2ca]{width:calc(100% / 3 - 15px);margin-right:15px;margin-bottom:7px;display:inline-block;overflow:hidden;position:relative}.playList-container .musicList .list-item .hotCount[data-v-ecb4a2ca]{position:absolute;width:100%;height:50px;padding:3px 6px 0 0;text-align:right;color:#fff;z-index:10;font-size:12px;background-image:linear-gradient(rgba(0,0,0,.45),transparent);border-radius:6px}.playList-container .musicList .list-item .list-item-image[data-v-ecb4a2ca]{height:115px;border-radius:6px}.playList-container .musicList .list-item .list-item-text[data-v-ecb4a2ca]{height:35px;width:100%;padding-top:2px;white-space:normal;color:rgba(0,0,0,.5);font-size:12px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.playList-container .musicList .list-item .radioName[data-v-ecb4a2ca]{width:100%;color:#fff;font-size:12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 0 8px 8px}',""]),t.exports=e},"32db":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("fb6a"),i("99af"),i("14d9"),i("d3b7"),i("159b"),i("e25e");var a=n(i("c7eb")),s=n(i("2909")),r=n(i("1da1")),o=i("b202"),c={data:function(){return{recommendList:[],direction:"",swiperList:[],currentName:"全部",scrollLeft:0,tagList:[],status:null,total:0,offset:0}},created:function(){this.getSongTagList(),this.getRecommendData()},computed:{height:function(){var t=this.CustomBar/(uni.upx2px(this.CustomBar)/this.CustomBar);return this.playInfo.id&&(t+=110),"calc(100%  - ".concat(t,"rpx)")},playInfo:function(){return this.$store.state.playInfo}},methods:{getSongTagList:function(){var t=this;return(0,r.default)((0,a.default)().mark((function e(){var i,n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.getSongTagList();case 2:i=e.sent,n=i.sub||[],n.length>0&&(n=n.slice(0,10)),t.tagList=[{name:"全部"}].concat((0,s.default)(n));case 6:case"end":return e.stop()}}),e)})))()},reachBottom:function(){this.status="loading",this.offset>=this.total?this.status="notMore":(this.offset+=30,this.offset>this.total&&(this.offset=this.total),this.getRecommendData(!0))},getRecommendData:function(t){var e=this;return(0,r.default)((0,a.default)().mark((function i(){var n,r,o,c,l,u;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.currentName,r=e.offset,i.next=4,e.$api.getSongList({cat:n,offset:r,limit:30,order:"hot"});case 4:o=i.sent,e.total=o.total||0,c=o.playlists||[],t?((l=e.recommendList).push.apply(l,(0,s.default)(c)),e.status=null):(u=c.slice(0,6),u.forEach((function(t,e){t.zIndex=parseInt(u.length/2)+1-Math.abs(e-parseInt(u.length/2)),t.mLeft=e-parseInt(u.length/2)})),e.swiperList=u,e.recommendList=c.slice(6));case 8:case"end":return i.stop()}}),i)})))()},playCount:function(t){return(0,o.filterPlayCount)(t)},tabSelect:function(t,e){this.currentName=t.name,this.scrollLeft=60*(e-1),this.offset=0,this.total=0,this.swiperList=[],this.recommendList=[],this.getRecommendData()},TowerStart:function(t){this.towerStart=t.touches[0].pageX},TowerMove:function(t){this.direction=t.touches[0].pageX-this.towerStart>0?"right":"left"},TowerEnd:function(t){var e=this.direction,i=this.swiperList;if("right"==e){for(var n=i[0].mLeft,a=i[0].zIndex,s=1;s<this.swiperList.length;s++)this.swiperList[s-1].mLeft=this.swiperList[s].mLeft,this.swiperList[s-1].zIndex=this.swiperList[s].zIndex;this.swiperList[i.length-1].mLeft=n,this.swiperList[i.length-1].zIndex=a}else{for(var r=i[i.length-1].mLeft,o=i[i.length-1].zIndex,c=this.swiperList.length-1;c>0;c--)this.swiperList[c].mLeft=this.swiperList[c-1].mLeft,this.swiperList[c].zIndex=this.swiperList[c-1].zIndex;this.swiperList[0].mLeft=r,this.swiperList[0].zIndex=o}this.direction="",this.swiperList=this.swiperList},toPlayListDetail:function(t){uni.navigateTo({url:"../songDetail/index?id="+t.id})}}};e.default=c},"5c03":function(t,e,i){var n=i("0935");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("7e5cf6b2",n,!0,{sourceMap:!1,shadowMode:!1})},"6df2":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"playList-container"},[i("cu-custom",{attrs:{bgColor:"#fff",isBack:!0}},[i("v-uni-view",{staticStyle:{color:"#000"},attrs:{slot:"content"},slot:"content"},[t._v("歌单")])],1),i("v-uni-scroll-view",{staticClass:"bg-white nav",attrs:{"scroll-x":!0,"scroll-with-animation":!0,"scroll-left":t.scrollLeft}},t._l(t.tagList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"cu-item",class:e.name==t.currentName?"basic-icon-color cur":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tabSelect(e,n)}}},[t._v(t._s(e.name))])})),1),i("v-uni-scroll-view",{style:{height:t.height,"margin-top":"20rpx"},attrs:{"scroll-y":!0,"scroll-with-animation":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.reachBottom()}}},[i("box-title",{staticStyle:{"margin-top":"10px"},attrs:{title:"热门歌单"}}),i("v-uni-view",{staticClass:"tower-swiper",on:{touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.TowerMove.apply(void 0,arguments)},touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.TowerStart.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.TowerEnd.apply(void 0,arguments)}}},t._l(t.swiperList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"tower-item",class:1==e.zIndex?"none":"",style:[{"--index":e.zIndex,"--left":e.mLeft}],attrs:{"data-direction":t.direction},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toPlayListDetail(e)}}},[i("v-uni-view",{staticClass:"swiper-item"},[i("v-uni-image",{staticClass:"swiper-item-img",attrs:{src:e.coverImgUrl+"?param=200y200",mode:"aspectFill"}}),0==e.mLeft?i("v-uni-view",{staticClass:"title"},[t._v(t._s(e.name))]):t._e()],1)],1)})),1),i("box-title",{staticStyle:{"margin-top":"30px"},attrs:{title:"歌单列表"}}),i("div",{staticClass:"musicList"},[t._l(t.recommendList,(function(e){return i("v-uni-view",{key:e.id,staticClass:"list-item"},[e.playCount>0||e.playcount>0?i("v-uni-view",{staticClass:"hotCount"},[i("v-uni-text",{staticClass:"iconfont icon-kaishi",staticStyle:{"margin-right":"3.5px"}}),i("v-uni-text",[t._v(t._s(t.playCount(e.playCount||e.playcount)))])],1):t._e(),i("v-uni-view",{staticClass:"bg-img flex align-end list-item-image",style:"background-image:url("+e.coverImgUrl+"?param=230y230)",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toPlayListDetail(e)}}},[i("v-uni-view",{staticClass:"bg-shadeBottom padding-top-xl radioName"},[t._v(t._s(e.name))])],1),i("v-uni-view",{staticClass:"list-item-text"},[t._v(t._s(e.name))])],1)})),"loading"==t.status||"notMore"==t.status?i("v-uni-view",{staticClass:"loading"},[t._v(t._s("notMore"==t.status?"没有更多了":"努力加载中..."))]):t._e()],2)],1),t.playInfo.id?i("music-control"):t._e()],1)},a=[]},b202:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=function(t,e,i){var n,a,s,r,o,c=function c(){var l=+new Date-r;l<e&&l>0?n=setTimeout(c,e-l):(n=null,i||(o=t.apply(s,a),n||(s=a=null)))};return function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];s=this,r=+new Date;var d=i&&!n;return n||(n=setTimeout(c,e)),d&&(o=t.apply(s,l),s=l=null),o}},e.filterPlayCount=function(t){if(!t||t<=0)return 0;if(t<1e3)return t;if(t>=1e3&&t<1e4)return Math.ceil(t/1e3)+"千";if(t>=1e4&&t<1e8)return Math.ceil(t/1e4)+"万";return Math.ceil(t/1e8)+"亿"},e.getImage=function(t){var e="";t.picUrl?e=t.picUrl:t.album?e=t.album.picUrl:t.al&&(e=t.al.picUrl);return e?e+"?param=300y300":null},e.getName=function(t){if(t.song)return t.song.artists[0].name;if(t.artists)return t.artists[0].name;if(t.ar)return t.ar[0].name}},ce07:function(t,e,i){"use strict";i.r(e);var n=i("6df2"),a=i("ead2");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("e5ad");var r=i("f0c5"),o=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"ecb4a2ca",null,!1,n["a"],void 0);e["default"]=o.exports},e5ad:function(t,e,i){"use strict";var n=i("5c03"),a=i.n(n);a.a},ead2:function(t,e,i){"use strict";i.r(e);var n=i("32db"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a}}]);